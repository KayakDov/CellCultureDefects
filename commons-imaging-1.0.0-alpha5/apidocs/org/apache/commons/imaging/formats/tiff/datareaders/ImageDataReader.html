<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ImageDataReader (Apache Commons Imaging 1.0.0-alpha5 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="declaration: package: org.apache.commons.imaging.formats.tiff.datareaders, class: ImageDataReader">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ImageDataReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.commons.imaging.formats.tiff.datareaders</a></div>
<h1 title="Class ImageDataReader" class="title">Class ImageDataReader</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.commons.imaging.formats.tiff.datareaders.ImageDataReader</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DataReaderStrips.html" title="class in org.apache.commons.imaging.formats.tiff.datareaders">DataReaderStrips</a></code>, <code><a href="DataReaderTiled.html" title="class in org.apache.commons.imaging.formats.tiff.datareaders">DataReaderTiled</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-144">ImageDataReader</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Defines the base class for the TIFF file reader classes. The TIFF format defines two broad organizations for image pixel storage: strips and tiles. This
 class defines common elements for both representations.
 <p>
 <strong>The TIFF Floating-Point Formats </strong>
 <p>
 In addition to providing images, TIFF files can supply data in the form of numerical values. As of March 2020 the Commons Imaging library was extended to
 support some floating-point data formats.
 <p>
 Unfortunately, the TIFF floating-point format allows for a lot of different variations. At this time, only the most widely used of these are supported. When
 this code was written, only a small set of test data products were available. Thus it is likely that developers will wish to extend the range of
 floating-point data that can be processed as additional test data become available. When implementing extensions to this logic, developers are reminded that
 image processing requires the handling of literally millions of pixels, so attention to performance is essential to a successful implementation (please see
 the notes in <a href="DataReaderStrips.html" title="class in org.apache.commons.imaging.formats.tiff.datareaders"><code>DataReaderStrips</code></a> for more information).
 <p>
 The TIFF floating-point specification is poorly documented. So these notes are included to provide clarification on at least some aspects of the format. Some
 documentation and C-code examples are available in "TIFF Technical Note 3, April 8, 2005)".
 <p>
 <strong>The Predictor==3 Case</strong>
 <p>
 TIFF specifies an extension for a predictor that is intended to improve data compression ratios for floating-point values. This predictor is specified using
 the TIFF predictor TAG with a value of 3 (see TIFF Technical Note 3). Consider a 4-byte floating point value given in IEEE-754 format. Let f3 be the
 high-order byte, with f2 the next highest, followed by f1, and f0 for the low-order byte. This designation should not be confused with the in-memory layout
 of the bytes (little-endian versus big-endian), but rather their numerical values. The sign bit and upper 7 bits of the exponent are given in the high-order
 byte, followed by the one remaining exponent bit and the mantissa in the lower-order bytes.
 <p>
 In many real-valued raster data sets, the sign and magnitude (exponent) of the values change slowly. But the bits in the mantissa vary rapidly in a
 semi-random manner. The information entropy in the mantissa tends to increase in the lowest ordered bytes. Thus, the high-order bytes have more redundancy
 than the low-order bytes and can compress more efficiently. To exploit this, the TIFF format splits the bytes into groups based on their order-of-magnitude.
 This splitting process takes place on a ROW-BY-ROW basis (note the emphasis, this point is not clearly documented in the spec). For example, for a row of
 length 3 pixels -- A, B, and C -- the data for two rows would be given as shown below (again, ignoring endian issues):

 <pre>
   Original:
      A3 A2 A1 A0   B3 B2 B1 B0   C3 C2 C1 C0
      D3 D3 D1 D0   E3 E2 E2 E0   F3 F2 F1 F0

   Bytes split into groups by order-of-magnitude:
      A3 B3 C3   A2 B2 C2   A1 B1 C1   A0 B0 C0
      D3 E3 F3   D2 E2 F2   D1 E1 F1   D0 E0 F0
 </pre>

 To further improve the compression, the predictor takes the difference of each subsequent bytes. Again, the differences (deltas) are computed on a
 row-byte-row basis. For the most part, the differences combine bytes associated with the same order-of-magnitude, though there is a special transition at the
 end of each order-of-magnitude set (shown in parentheses):

 <pre>
      A3, B3-A3, C3-B3, (A2-C3), B2-A2, C2-B2, (A1-C2), etc.
      D3, E3-D3, F3-D3, (D2-F3), E3-D2, etc.
 </pre>

 Once the predictor transform is complete, the data is stored using conventional data compression techniques such as Deflate or LZW. In practice, floating
 point data does not compress especially well, but using the above technique, the TIFF process typically reduces the overall storage size by 20 to 30 percent
 (depending on the data). The TIFF Technical Note 3 specifies 3 data size formats for storing floating point values:

 <pre>
     32 bits    IEEE-754 single-precision standard
     16 bits    IEEE-754 half-precision standard
     24 bits    A non-standard representation
 </pre>

 At this time, we have not obtained data samples for the smaller representations used in combination with a predictor.
 <p>
 <strong>Interleaved formats</strong>
 <p>
 TIFF Technical Note 3 also provides example code for cases where each pixel (or raster cell) in the image is associated with more than one floating-point
 samples. Data in this format might be used for real-valued vector data, complex-valued pairs, or other numerical applications).
 <p>
 At this time, we have encountered only a limited selection of the possible configurations for multi-variable data. The code below only supports those
 configurations for which we had actual images that could be used to verify our implementation. The implementation supports the following formats:
 <ul>
 <li>32-bit floating-point data</li>
 <li>Uncompressed, Deflate, or LZW compression</li>
 <li>Optional horizontal predictors used with compression</li>
 <li>PlanarConfiguration interleaved (CHUNKY) or non-interleaved (PLANAR)</li>
 </ul>
 <p>
 Note that integer formats are not supported at this time.
 <p>
 Often, the TIFF files store multi-variable data in so that samples are interleaved. For example, a configuration that gave two samples per pixel (or cell)
 would give the two values for the first pixel in order followed by the two values for the second pixel, etc. If a differencing approach were used for data
 compression, the byte-stream would begin with the high-order byte for each of the two samples for the first pixel, followed by the high-order byte for each
 of the next two samples, and so forth for the remainder of the row of pixels. It would then follow with the second-highest-order bytes for the first two
 samples, etc.
 <p>
 This implementation also supports the non-interleaved (PLANAR) configuration. One consideration in implementing this feature was that TIFF Technical Note 3
 does not address the case where a TIFF image uses the alternate planar configuration. For conventional images, the TIFF specification (Revision 6.0)
 recommends that the planar configuration should be avoided (see pg. 38). But for numerical data products, the planar configuration may yield better data
 compression in the case where different sample sets have different statistical properties. Because separated groups often have more uniformity and
 predictability than interleaved data sets, they sometimes lead to a small improvement in storage-size reduction when data compression is used.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#bitsPerSampleLength" class="member-name-link">bitsPerSampleLength</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../TiffDirectory.html" title="class in org.apache.commons.imaging.formats.tiff">TiffDirectory</a></code></div>
<div class="col-second odd-row-color"><code><a href="#directory" class="member-name-link">directory</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#height" class="member-name-link">height</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="../photometricinterpreters/PhotometricInterpreter.html" title="class in org.apache.commons.imaging.formats.tiff.photometricinterpreters">PhotometricInterpreter</a></code></div>
<div class="col-second odd-row-color"><code><a href="#photometricInterpreter" class="member-name-link">photometricInterpreter</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="../constants/TiffPlanarConfiguration.html" title="enum in org.apache.commons.imaging.formats.tiff.constants">TiffPlanarConfiguration</a></code></div>
<div class="col-second even-row-color"><code><a href="#planarConfiguration" class="member-name-link">planarConfiguration</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final int</code></div>
<div class="col-second odd-row-color"><code><a href="#predictor" class="member-name-link">predictor</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#sampleFormat" class="member-name-link">sampleFormat</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final int</code></div>
<div class="col-second odd-row-color"><code><a href="#samplesPerPixel" class="member-name-link">samplesPerPixel</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#width" class="member-name-link">width</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.commons.imaging.formats.tiff.TiffDirectory,org.apache.commons.imaging.formats.tiff.photometricinterpreters.PhotometricInterpreter,int%5B%5D,int,int,int,int,int,org.apache.commons.imaging.formats.tiff.constants.TiffPlanarConfiguration)" class="member-name-link">ImageDataReader</a><wbr>(<a href="../TiffDirectory.html" title="class in org.apache.commons.imaging.formats.tiff">TiffDirectory</a>&nbsp;directory,
 <a href="../photometricinterpreters/PhotometricInterpreter.html" title="class in org.apache.commons.imaging.formats.tiff.photometricinterpreters">PhotometricInterpreter</a>&nbsp;photometricInterpreter,
 int[]&nbsp;bitsPerSample,
 int&nbsp;predictor,
 int&nbsp;samplesPerPixel,
 int&nbsp;sampleFormat,
 int&nbsp;width,
 int&nbsp;height,
 <a href="../constants/TiffPlanarConfiguration.html" title="enum in org.apache.commons.imaging.formats.tiff.constants">TiffPlanarConfiguration</a>&nbsp;planarConfiguration)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#applyPredictor(int%5B%5D)" class="member-name-link">applyPredictor</a><wbr>(int[]&nbsp;samples)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#applyPredictorToBlock(int,int,int,byte%5B%5D)" class="member-name-link">applyPredictorToBlock</a><wbr>(int&nbsp;width,
 int&nbsp;height,
 int&nbsp;nSamplesPerPixel,
 byte[]&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#decompress(byte%5B%5D,int,int,int,int)" class="member-name-link">decompress</a><wbr>(byte[]&nbsp;compressedInput,
 int&nbsp;compression,
 int&nbsp;expectedSize,
 int&nbsp;tileWidth,
 int&nbsp;tileHeight)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isHomogenous(int)" class="member-name-link">isHomogenous</a><wbr>(int&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if all the bits per sample entries are the same size</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="../../../common/ImageBuilder.html" title="class in org.apache.commons.imaging.common">ImageBuilder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#readImageData(java.awt.Rectangle,boolean,boolean)" class="member-name-link">readImageData</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html" title="class or interface in java.awt" class="external-link">Rectangle</a>&nbsp;subImageSpecification,
 boolean&nbsp;hasAlpha,
 boolean&nbsp;isAlphaPremultiplied)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Read the image data from the IFD associated with this instance of ImageDataReader using the optional sub-image specification if desired.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="../TiffRasterData.html" title="class in org.apache.commons.imaging.formats.tiff">TiffRasterData</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#readRasterData(java.awt.Rectangle)" class="member-name-link">readRasterData</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html" title="class or interface in java.awt" class="external-link">Rectangle</a>&nbsp;subImage)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Defines a method for accessing the floating-point raster data in a TIFF image.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetPredictor()" class="member-name-link">resetPredictor</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unpackFloatingPointSamples(int,int,int,byte%5B%5D,int,java.nio.ByteOrder)" class="member-name-link">unpackFloatingPointSamples</a><wbr>(int&nbsp;width,
 int&nbsp;height,
 int&nbsp;scanSize,
 byte[]&nbsp;bytes,
 int&nbsp;bitsPerPixel,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteOrder.html" title="class or interface in java.nio" class="external-link">ByteOrder</a>&nbsp;byteOrder)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Given a source file that specifies the floating-point data format, unpack the raw bytes obtained from the source file and organize them into an array of
 integers containing the bit-equivalent of IEEE-754 32-bit floats.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unpackIntSamples(int,int,int,byte%5B%5D,int,int,java.nio.ByteOrder)" class="member-name-link">unpackIntSamples</a><wbr>(int&nbsp;width,
 int&nbsp;height,
 int&nbsp;scanSize,
 byte[]&nbsp;bytes,
 int&nbsp;predictor,
 int&nbsp;bitsPerSample,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteOrder.html" title="class or interface in java.nio" class="external-link">ByteOrder</a>&nbsp;byteOrder)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Given a source file that specifies numerical data as short integers, unpack the raw bytes obtained from the source file and organize them into an array
 of integers.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="directory">
<h3>directory</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../TiffDirectory.html" title="class in org.apache.commons.imaging.formats.tiff">TiffDirectory</a></span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-146">directory</a></span></div>
</section>
</li>
<li>
<section class="detail" id="photometricInterpreter">
<h3>photometricInterpreter</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../photometricinterpreters/PhotometricInterpreter.html" title="class in org.apache.commons.imaging.formats.tiff.photometricinterpreters">PhotometricInterpreter</a></span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-147">photometricInterpreter</a></span></div>
</section>
</li>
<li>
<section class="detail" id="bitsPerSampleLength">
<h3>bitsPerSampleLength</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-149">bitsPerSampleLength</a></span></div>
</section>
</li>
<li>
<section class="detail" id="predictor">
<h3>predictor</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-152">predictor</a></span></div>
</section>
</li>
<li>
<section class="detail" id="samplesPerPixel">
<h3>samplesPerPixel</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-153">samplesPerPixel</a></span></div>
</section>
</li>
<li>
<section class="detail" id="width">
<h3>width</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-154">width</a></span></div>
</section>
</li>
<li>
<section class="detail" id="height">
<h3>height</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-155">height</a></span></div>
</section>
</li>
<li>
<section class="detail" id="sampleFormat">
<h3>sampleFormat</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-156">sampleFormat</a></span></div>
</section>
</li>
<li>
<section class="detail" id="planarConfiguration">
<h3>planarConfiguration</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../constants/TiffPlanarConfiguration.html" title="enum in org.apache.commons.imaging.formats.tiff.constants">TiffPlanarConfiguration</a></span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-158">planarConfiguration</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.commons.imaging.formats.tiff.TiffDirectory,org.apache.commons.imaging.formats.tiff.photometricinterpreters.PhotometricInterpreter,int[],int,int,int,int,int,org.apache.commons.imaging.formats.tiff.constants.TiffPlanarConfiguration)">
<h3>ImageDataReader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-160">ImageDataReader</a></span><wbr><span class="parameters">(<a href="../TiffDirectory.html" title="class in org.apache.commons.imaging.formats.tiff">TiffDirectory</a>&nbsp;directory,
 <a href="../photometricinterpreters/PhotometricInterpreter.html" title="class in org.apache.commons.imaging.formats.tiff.photometricinterpreters">PhotometricInterpreter</a>&nbsp;photometricInterpreter,
 int[]&nbsp;bitsPerSample,
 int&nbsp;predictor,
 int&nbsp;samplesPerPixel,
 int&nbsp;sampleFormat,
 int&nbsp;width,
 int&nbsp;height,
 <a href="../constants/TiffPlanarConfiguration.html" title="enum in org.apache.commons.imaging.formats.tiff.constants">TiffPlanarConfiguration</a>&nbsp;planarConfiguration)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="applyPredictor(int[])">
<h3>applyPredictor</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-176">applyPredictor</a></span><wbr><span class="parameters">(int[]&nbsp;samples)</span></div>
</section>
</li>
<li>
<section class="detail" id="applyPredictorToBlock(int,int,int,byte[])">
<h3>applyPredictorToBlock</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-188">applyPredictorToBlock</a></span><wbr><span class="parameters">(int&nbsp;width,
 int&nbsp;height,
 int&nbsp;nSamplesPerPixel,
 byte[]&nbsp;p)</span></div>
</section>
</li>
<li>
<section class="detail" id="decompress(byte[],int,int,int,int)">
<h3>decompress</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-199">decompress</a></span><wbr><span class="parameters">(byte[]&nbsp;compressedInput,
 int&nbsp;compression,
 int&nbsp;expectedSize,
 int&nbsp;tileWidth,
 int&nbsp;tileHeight)</span>
                     throws <span class="exceptions"><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isHomogenous(int)">
<h3>isHomogenous</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-307">isHomogenous</a></span><wbr><span class="parameters">(int&nbsp;size)</span></div>
<div class="block">Checks if all the bits per sample entries are the same size</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - the size to check</dd>
<dt>Returns:</dt>
<dd>true if all the bits per sample entries are the same</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readImageData(java.awt.Rectangle,boolean,boolean)">
<h3>readImageData</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="../../../common/ImageBuilder.html" title="class in org.apache.commons.imaging.common">ImageBuilder</a></span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-326">readImageData</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html" title="class or interface in java.awt" class="external-link">Rectangle</a>&nbsp;subImageSpecification,
 boolean&nbsp;hasAlpha,
 boolean&nbsp;isAlphaPremultiplied)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a></span></div>
<div class="block">Read the image data from the IFD associated with this instance of ImageDataReader using the optional sub-image specification if desired.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subImageSpecification</code> - a rectangle describing a sub-region of the image for reading, or a null if the whole image is to be read.</dd>
<dd><code>hasAlpha</code> - indicates that the image has an alpha (transparency) channel (RGB color model only).</dd>
<dd><code>isAlphaPremultiplied</code> - indicates that the image uses the associated alpha channel format (pre-multiplied alpha).</dd>
<dt>Returns:</dt>
<dd>a valid instance containing the pixel data from the image.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - in the event of an unrecoverable I/O error.</dd>
<dd><code><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a></code> - TODO</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readRasterData(java.awt.Rectangle)">
<h3>readRasterData</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="../TiffRasterData.html" title="class in org.apache.commons.imaging.formats.tiff">TiffRasterData</a></span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-338">readRasterData</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html" title="class or interface in java.awt" class="external-link">Rectangle</a>&nbsp;subImage)</span>
                                       throws <span class="exceptions"><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Defines a method for accessing the floating-point raster data in a TIFF image. These implementations of this method in DataReaderStrips and
 DataReaderTiled assume that this instance is of a compatible data type (floating-point) and that all access checks have already been performed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subImage</code> - if non-null, instructs the access method to retrieve only a sub-section of the image data.</dd>
<dt>Returns:</dt>
<dd>a valid instance</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a></code> - in the event of an incompatible data form.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - in the event of I/O error.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetPredictor()">
<h3>resetPredictor</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-340">resetPredictor</a></span>()</div>
</section>
</li>
<li>
<section class="detail" id="unpackFloatingPointSamples(int,int,int,byte[],int,java.nio.ByteOrder)">
<h3>unpackFloatingPointSamples</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-558">unpackFloatingPointSamples</a></span><wbr><span class="parameters">(int&nbsp;width,
 int&nbsp;height,
 int&nbsp;scanSize,
 byte[]&nbsp;bytes,
 int&nbsp;bitsPerPixel,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteOrder.html" title="class or interface in java.nio" class="external-link">ByteOrder</a>&nbsp;byteOrder)</span>
                                    throws <span class="exceptions"><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a></span></div>
<div class="block">Given a source file that specifies the floating-point data format, unpack the raw bytes obtained from the source file and organize them into an array of
 integers containing the bit-equivalent of IEEE-754 32-bit floats. Source files containing 64 bit doubles are downcast to floats.
 <p>
 This method supports either the tile format or the strip format of TIFF source files. The scan size indicates the number of columns to be extracted. For
 strips, the width and the scan size are always the full width of the image. For tiles, the scan size is the full width of the tile, but the width may be
 smaller in the cases where the tiles do not evenly divide the width (for example, a 256 pixel wide tile in a 257 pixel wide image would result in two
 columns of tiles, the second column having only one column of pixels that were worth extracting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>width</code> - the width of the data block to be extracted</dd>
<dd><code>height</code> - the height of the data block to be extracted</dd>
<dd><code>scanSize</code> - the number of pixels in a single row of the block</dd>
<dd><code>bytes</code> - the raw bytes</dd>
<dd><code>bitsPerPixel</code> - the number of bits per sample, 32 or 64.</dd>
<dd><code>byteOrder</code> - the byte order for the source data</dd>
<dt>Returns:</dt>
<dd>a valid array of integers in row major order, dimensions scan-size wide and height.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../ImagingException.html" title="class in org.apache.commons.imaging">ImagingException</a></code> - in the event of an invalid format.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unpackIntSamples(int,int,int,byte[],int,int,java.nio.ByteOrder)">
<h3>unpackIntSamples</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../../../src-html/org/apache/commons/imaging/formats/tiff/datareaders/ImageDataReader.html#line-715">unpackIntSamples</a></span><wbr><span class="parameters">(int&nbsp;width,
 int&nbsp;height,
 int&nbsp;scanSize,
 byte[]&nbsp;bytes,
 int&nbsp;predictor,
 int&nbsp;bitsPerSample,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteOrder.html" title="class or interface in java.nio" class="external-link">ByteOrder</a>&nbsp;byteOrder)</span></div>
<div class="block">Given a source file that specifies numerical data as short integers, unpack the raw bytes obtained from the source file and organize them into an array
 of integers.
 <p>
 This method supports either the tile format or the strip format of TIFF source files. The scan size indicates the number of columns to be extracted. For
 strips, the width and the scan size are always the full width of the image. For tiles, the scan size is the full width of the tile, but the "width"
 parameter may be smaller in the cases where the tiles do not evenly divide the width (for example, a 256 pixel wide tile in a 257 pixel wide image would
 result in two columns of tiles, the second column having only one column of pixels that were worth extracting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>width</code> - the width of the data block to be extracted</dd>
<dd><code>height</code> - the height of the data block to be extracted</dd>
<dd><code>scanSize</code> - the number of pixels in a single row of the block</dd>
<dd><code>bytes</code> - the raw bytes</dd>
<dd><code>predictor</code> - the predictor specified by the source, only predictor 3 is supported.</dd>
<dd><code>bitsPerSample</code> - the number of bits per sample, 32 or 64.</dd>
<dd><code>byteOrder</code> - the byte order for the source data</dd>
<dt>Returns:</dt>
<dd>a valid array of integers in row major order, dimensions scan-size wide and height.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2007&#x2013;2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
